package me.lightspeed7.sk8s

import me.lightspeed7.sk8s.services.ServiceDiscovery
import org.scalatest.{ FunSuite, Matchers }

class ServiceDiscoveryTest extends FunSuite with Matchers {

  test("Discovery from Environment") {

    val discovery = new ServiceDiscovery(Data.envMap)
    val services  = discovery.serviceNames

    services.size shouldBe 28
    services.count(_.contains("_svc")) shouldBe 28 // all are the correct ones found

    val hp = discovery.getHostAndPort("MEtadata_svc")
    hp.isDefined shouldBe true
    hp.get shouldBe HostAndPort("10.0.127.166", 9000)
  }

}

object Data {

  val rawData: String =
    """ADMIN_IDS_LIST=foobar
      |APM_SVC_PORT=tcp://10.0.19.104:80
      |APM_SVC_PORT_80_TCP=tcp://10.0.19.104:80
      |APM_SVC_PORT_80_TCP_ADDR=10.0.19.104
      |APM_SVC_PORT_80_TCP_PORT=80
      |APM_SVC_PORT_80_TCP_PROTO=tcp
      |APM_SVC_SERVICE_HOST=10.0.19.104
      |APM_SVC_SERVICE_PORT=80
      |APM_SVC_SERVICE_PORT_SERVER=80
      |BASH=/bin/bash
      |BASHOPTS=cmdhist:complete_fullquote:expand_aliases:extquote:force_fignore:hostcomplete:interactive_comments:progcomp:promptvars:sourcepath
      |BASH_ALIASES=()
      |BASH_ARGC=()
      |BASH_ARGV=()
      |BASH_CMDS=()
      |BASH_LINENO=()
      |BASH_SOURCE=()
      |BASH_VERSINFO=([0]="4" [1]="3" [2]="48" [3]="1" [4]="release" [5]="x86_64-alpine-linux-musl")
      |BASH_VERSION='4.3.48(1)-release'
      |COLUMNS=203
      |CONSOLIDATIONS_WRITER_SVC_PORT=tcp://10.0.114.239:9000
      |CONSOLIDATIONS_WRITER_SVC_PORT_9000_TCP=tcp://10.0.114.239:9000
      |CONSOLIDATIONS_WRITER_SVC_PORT_9000_TCP_ADDR=10.0.114.239
      |CONSOLIDATIONS_WRITER_SVC_PORT_9000_TCP_PORT=9000
      |CONSOLIDATIONS_WRITER_SVC_PORT_9000_TCP_PROTO=tcp
      |CONSOLIDATIONS_WRITER_SVC_SERVICE_HOST=10.0.114.239
      |CONSOLIDATIONS_WRITER_SVC_SERVICE_PORT=9000
      |CONSOLIDATIONS_WRITER_SVC_SERVICE_PORT_SERVER=9000
      |CONTACTOR_SVC_PORT=tcp://10.0.204.124:3001
      |CONTACTOR_SVC_PORT_3001_TCP=tcp://10.0.204.124:3001
      |CONTACTOR_SVC_PORT_3001_TCP_ADDR=10.0.204.124
      |CONTACTOR_SVC_PORT_3001_TCP_PORT=3001
      |CONTACTOR_SVC_PORT_3001_TCP_PROTO=tcp
      |CONTACTOR_SVC_SERVICE_HOST=10.0.204.124
      |CONTACTOR_SVC_SERVICE_PORT=3001
      |CONTACTOR_SVC_SERVICE_PORT_SERVER=3001
      |DASHBOARD_SVC_PORT=tcp://10.0.88.188:9000
      |DASHBOARD_SVC_PORT_9000_TCP=tcp://10.0.88.188:9000
      |DASHBOARD_SVC_PORT_9000_TCP_ADDR=10.0.88.188
      |DASHBOARD_SVC_PORT_9000_TCP_PORT=9000
      |DASHBOARD_SVC_PORT_9000_TCP_PROTO=tcp
      |DASHBOARD_SVC_SERVICE_HOST=10.0.88.188
      |DASHBOARD_SVC_SERVICE_PORT=9000
      |DASHBOARD_SVC_SERVICE_PORT_SERVER=9000
      |DERIVED_SVC_PORT=tcp://10.0.236.31:9000
      |DERIVED_SVC_PORT_9000_TCP=tcp://10.0.236.31:9000
      |DERIVED_SVC_PORT_9000_TCP_ADDR=10.0.236.31
      |DERIVED_SVC_PORT_9000_TCP_PORT=9000
      |DERIVED_SVC_PORT_9000_TCP_PROTO=tcp
      |DERIVED_SVC_SERVICE_HOST=10.0.236.31
      |DERIVED_SVC_SERVICE_PORT=9000
      |DERIVED_SVC_SERVICE_PORT_SERVER=9000
      |DIRSTACK=()
      |EUID=2
      |GLIBC_REPO=https://github.com/sgerrand/alpine-pkg-glibc
      |GLIBC_VERSION=2.26-r0
      |GROUPS=()
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT=tcp://10.0.221.201:80
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_1936_TCP=tcp://10.0.221.201:1936
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_1936_TCP_ADDR=10.0.221.201
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_1936_TCP_PORT=1936
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_1936_TCP_PROTO=tcp
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_443_TCP=tcp://10.0.221.201:443
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_443_TCP_ADDR=10.0.221.201
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_443_TCP_PORT=443
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_443_TCP_PROTO=tcp
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_80_TCP=tcp://10.0.221.201:80
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_80_TCP_ADDR=10.0.221.201
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_80_TCP_PORT=80
      |HAPROXY_INGRESS_1423898756_8QVHC_PORT_80_TCP_PROTO=tcp
      |HAPROXY_INGRESS_1423898756_8QVHC_SERVICE_HOST=10.0.221.201
      |HAPROXY_INGRESS_1423898756_8QVHC_SERVICE_PORT=80
      |HAPROXY_INGRESS_1423898756_8QVHC_SERVICE_PORT_PORT_1=80
      |HAPROXY_INGRESS_1423898756_8QVHC_SERVICE_PORT_PORT_2=443
      |HAPROXY_INGRESS_1423898756_8QVHC_SERVICE_PORT_PORT_3=1936
      |HAPROXY_INGRESS_SVC_PORT=tcp://10.0.226.253:80
      |HAPROXY_INGRESS_SVC_PORT_1936_TCP=tcp://10.0.226.253:1936
      |HAPROXY_INGRESS_SVC_PORT_1936_TCP_ADDR=10.0.226.253
      |HAPROXY_INGRESS_SVC_PORT_1936_TCP_PORT=1936
      |HAPROXY_INGRESS_SVC_PORT_1936_TCP_PROTO=tcp
      |HAPROXY_INGRESS_SVC_PORT_443_TCP=tcp://10.0.226.253:443
      |HAPROXY_INGRESS_SVC_PORT_443_TCP_ADDR=10.0.226.253
      |HAPROXY_INGRESS_SVC_PORT_443_TCP_PORT=443
      |HAPROXY_INGRESS_SVC_PORT_443_TCP_PROTO=tcp
      |HAPROXY_INGRESS_SVC_PORT_80_TCP=tcp://10.0.226.253:80
      |HAPROXY_INGRESS_SVC_PORT_80_TCP_ADDR=10.0.226.253
      |HAPROXY_INGRESS_SVC_PORT_80_TCP_PORT=80
      |HAPROXY_INGRESS_SVC_PORT_80_TCP_PROTO=tcp
      |HAPROXY_INGRESS_SVC_SERVICE_HOST=10.0.226.253
      |HAPROXY_INGRESS_SVC_SERVICE_PORT=80
      |HAPROXY_INGRESS_SVC_SERVICE_PORT_HTTP=80
      |HAPROXY_INGRESS_SVC_SERVICE_PORT_HTTPS=443
      |HAPROXY_INGRESS_SVC_SERVICE_PORT_STATS=1936
      |HISTFILE=/sbin/.bash_history
      |HISTFILESIZE=500
      |HISTSIZE=500
      |HOME=/sbin
      |HOSTNAME=appname-3951357470-m5hbw
      |HOSTTYPE=x86_64
      |IFS=$' \t\n'
      |INGEST_SVC_PORT=tcp://10.0.72.197:9000
      |INGEST_SVC_PORT_9000_TCP=tcp://10.0.72.197:9000
      |INGEST_SVC_PORT_9000_TCP_ADDR=10.0.72.197
      |INGEST_SVC_PORT_9000_TCP_PORT=9000
      |INGEST_SVC_PORT_9000_TCP_PROTO=tcp
      |INGEST_SVC_SERVICE_HOST=10.0.72.197
      |INGEST_SVC_SERVICE_PORT=9000
      |INGEST_SVC_SERVICE_PORT_SERVER=9000
      |JAVA_HOME=/opt/jdk
      |JAVA_JCE=unlimited
      |JAVA_PACKAGE=server-jre
      |JAVA_VERSION_BUILD=12
      |JAVA_VERSION_MAJOR=8
      |JAVA_VERSION_MINOR=162
      |KUBERNETES_PORT=tcp://10.0.0.1:443
      |KUBERNETES_PORT_443_TCP=tcp://10.0.0.1:443
      |KUBERNETES_PORT_443_TCP_ADDR=10.0.0.1
      |KUBERNETES_PORT_443_TCP_PORT=443
      |KUBERNETES_PORT_443_TCP_PROTO=tcp
      |KUBERNETES_SERVICE_HOST=10.0.0.1
      |KUBERNETES_SERVICE_PORT=443
      |KUBERNETES_SERVICE_PORT_HTTPS=443
      |LANG=C.UTF-8
      |LINES=62
      |LOGINGEST_SVC_PORT=tcp://10.0.241.1:9000
      |LOGINGEST_SVC_PORT_9000_TCP=tcp://10.0.241.1:9000
      |LOGINGEST_SVC_PORT_9000_TCP_ADDR=10.0.241.1
      |LOGINGEST_SVC_PORT_9000_TCP_PORT=9000
      |LOGINGEST_SVC_PORT_9000_TCP_PROTO=tcp
      |LOGINGEST_SVC_SERVICE_HOST=10.0.241.1
      |LOGINGEST_SVC_SERVICE_PORT=9000
      |LOGINGEST_SVC_SERVICE_PORT_SERVER=9000
      |LOGPROCESSING_SVC_PORT=tcp://10.0.247.21:9000
      |LOGPROCESSING_SVC_PORT_9000_TCP=tcp://10.0.247.21:9000
      |LOGPROCESSING_SVC_PORT_9000_TCP_ADDR=10.0.247.21
      |LOGPROCESSING_SVC_PORT_9000_TCP_PORT=9000
      |LOGPROCESSING_SVC_PORT_9000_TCP_PROTO=tcp
      |LOGPROCESSING_SVC_SERVICE_HOST=10.0.247.21
      |LOGPROCESSING_SVC_SERVICE_PORT=9000
      |LOGPROCESSING_SVC_SERVICE_PORT_SERVER=9000
      |LOGREADER_SVC_PORT=tcp://10.0.185.59:9000
      |LOGREADER_SVC_PORT_9000_TCP=tcp://10.0.185.59:9000
      |LOGREADER_SVC_PORT_9000_TCP_ADDR=10.0.185.59
      |LOGREADER_SVC_PORT_9000_TCP_PORT=9000
      |LOGREADER_SVC_PORT_9000_TCP_PROTO=tcp
      |LOGREADER_SVC_SERVICE_HOST=10.0.185.59
      |LOGREADER_SVC_SERVICE_PORT=9000
      |LOGREADER_SVC_SERVICE_PORT_SERVER=9000
      |MACHTYPE=x86_64-alpine-linux-musl
      |MAILCHECK=60
      |MEASUREMENTS_SVC_PORT=tcp://10.0.77.147:9000
      |MEASUREMENTS_SVC_PORT_9000_TCP=tcp://10.0.77.147:9000
      |MEASUREMENTS_SVC_PORT_9000_TCP_ADDR=10.0.77.147
      |MEASUREMENTS_SVC_PORT_9000_TCP_PORT=9000
      |MEASUREMENTS_SVC_PORT_9000_TCP_PROTO=tcp
      |MEASUREMENTS_SVC_SERVICE_HOST=10.0.77.147
      |MEASUREMENTS_SVC_SERVICE_PORT=9000
      |MEASUREMENTS_SVC_SERVICE_PORT_SERVER=9000
      |METADATA_SVC_PORT=tcp://10.0.127.166:9000
      |METADATA_SVC_PORT_9000_TCP=tcp://10.0.127.166:9000
      |METADATA_SVC_PORT_9000_TCP_ADDR=10.0.127.166
      |METADATA_SVC_PORT_9000_TCP_PORT=9000
      |METADATA_SVC_PORT_9000_TCP_PROTO=tcp
      |METADATA_SVC_SERVICE_HOST=10.0.127.166
      |METADATA_SVC_SERVICE_PORT=9000
      |METADATA_SVC_SERVICE_PORT_SERVER=9000
      |MIDSTREAM_SVC_PORT=tcp://10.0.230.128:3000
      |MIDSTREAM_SVC_PORT_3000_TCP=tcp://10.0.230.128:3000
      |MIDSTREAM_SVC_PORT_3000_TCP_ADDR=10.0.230.128
      |MIDSTREAM_SVC_PORT_3000_TCP_PORT=3000
      |MIDSTREAM_SVC_PORT_3000_TCP_PROTO=tcp
      |MIDSTREAM_SVC_SERVICE_HOST=10.0.230.128
      |MIDSTREAM_SVC_SERVICE_PORT=3000
      |MIDSTREAM_SVC_SERVICE_PORT_SERVER=3000
      |MULTI_AGGREGATIONS_SVC_PORT=tcp://10.0.154.145:9000
      |MULTI_AGGREGATIONS_SVC_PORT_9000_TCP=tcp://10.0.154.145:9000
      |MULTI_AGGREGATIONS_SVC_PORT_9000_TCP_ADDR=10.0.154.145
      |MULTI_AGGREGATIONS_SVC_PORT_9000_TCP_PORT=9000
      |MULTI_AGGREGATIONS_SVC_PORT_9000_TCP_PROTO=tcp
      |MULTI_AGGREGATIONS_SVC_SERVICE_HOST=10.0.154.145
      |MULTI_AGGREGATIONS_SVC_SERVICE_PORT=9000
      |MULTI_AGGREGATIONS_SVC_SERVICE_PORT_SERVER=9000
      |OPTERR=1
      |OPTIND=1
      |OSTYPE=linux-musl
      |PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/jdk/bin
      |PATTERNS_SVC_PORT=tcp://10.0.85.124:9000
      |PATTERNS_SVC_PORT_9000_TCP=tcp://10.0.85.124:9000
      |PATTERNS_SVC_PORT_9000_TCP_ADDR=10.0.85.124
      |PATTERNS_SVC_PORT_9000_TCP_PORT=9000
      |PATTERNS_SVC_PORT_9000_TCP_PROTO=tcp
      |PATTERNS_SVC_SERVICE_HOST=10.0.85.124
      |PATTERNS_SVC_SERVICE_PORT=9000
      |PATTERNS_SVC_SERVICE_PORT_SERVER=9000
      |PATTERNS_WRITER_SVC_PORT=tcp://10.0.108.96:9000
      |PATTERNS_WRITER_SVC_PORT_9000_TCP=tcp://10.0.108.96:9000
      |PATTERNS_WRITER_SVC_PORT_9000_TCP_ADDR=10.0.108.96
      |PATTERNS_WRITER_SVC_PORT_9000_TCP_PORT=9000
      |PATTERNS_WRITER_SVC_PORT_9000_TCP_PROTO=tcp
      |PATTERNS_WRITER_SVC_SERVICE_HOST=10.0.108.96
      |PATTERNS_WRITER_SVC_SERVICE_PORT=9000
      |PATTERNS_WRITER_SVC_SERVICE_PORT_SERVER=9000
      |PATTERN_ALERTS_SVC_PORT=tcp://10.0.100.54:9000
      |PATTERN_ALERTS_SVC_PORT_9000_TCP=tcp://10.0.100.54:9000
      |PATTERN_ALERTS_SVC_PORT_9000_TCP_ADDR=10.0.100.54
      |PATTERN_ALERTS_SVC_PORT_9000_TCP_PORT=9000
      |PATTERN_ALERTS_SVC_PORT_9000_TCP_PROTO=tcp
      |PATTERN_ALERTS_SVC_SERVICE_HOST=10.0.100.54
      |PATTERN_ALERTS_SVC_SERVICE_PORT=9000
      |PATTERN_ALERTS_SVC_SERVICE_PORT_SERVER=9000
      |PORTAL_SVC_PORT=tcp://10.0.150.160:8080
      |PORTAL_SVC_PORT_8080_TCP=tcp://10.0.150.160:8080
      |PORTAL_SVC_PORT_8080_TCP_ADDR=10.0.150.160
      |PORTAL_SVC_PORT_8080_TCP_PORT=8080
      |PORTAL_SVC_PORT_8080_TCP_PROTO=tcp
      |PORTAL_SVC_SERVICE_HOST=10.0.150.160
      |PORTAL_SVC_SERVICE_PORT=8080
      |PORTAL_SVC_SERVICE_PORT_SERVER=8080
      |POWERBI_SVC_PORT=tcp://10.0.174.70:3000
      |POWERBI_SVC_PORT_3000_TCP=tcp://10.0.174.70:3000
      |POWERBI_SVC_PORT_3000_TCP_ADDR=10.0.174.70
      |POWERBI_SVC_PORT_3000_TCP_PORT=3000
      |POWERBI_SVC_PORT_3000_TCP_PROTO=tcp
      |POWERBI_SVC_SERVICE_HOST=10.0.174.70
      |POWERBI_SVC_SERVICE_PORT=3000
      |POWERBI_SVC_SERVICE_PORT_SERVER=3000
      |PPID=0
      |PROCESSED_LOG_WRITER_SVC_PORT=tcp://10.0.154.162:9000
      |PROCESSED_LOG_WRITER_SVC_PORT_9000_TCP=tcp://10.0.154.162:9000
      |PROCESSED_LOG_WRITER_SVC_PORT_9000_TCP_ADDR=10.0.154.162
      |PROCESSED_LOG_WRITER_SVC_PORT_9000_TCP_PORT=9000
      |PROCESSED_LOG_WRITER_SVC_PORT_9000_TCP_PROTO=tcp
      |PROCESSED_LOG_WRITER_SVC_SERVICE_HOST=10.0.154.162
      |PROCESSED_LOG_WRITER_SVC_SERVICE_PORT=9000
      |PROCESSED_LOG_WRITER_SVC_SERVICE_PORT_SERVER=9000
      |PROCESSED_WRITER_SVC_PORT=tcp://10.0.114.139:9000
      |PROCESSED_WRITER_SVC_PORT_9000_TCP=tcp://10.0.114.139:9000
      |PROCESSED_WRITER_SVC_PORT_9000_TCP_ADDR=10.0.114.139
      |PROCESSED_WRITER_SVC_PORT_9000_TCP_PORT=9000
      |PROCESSED_WRITER_SVC_PORT_9000_TCP_PROTO=tcp
      |PROCESSED_WRITER_SVC_SERVICE_HOST=10.0.114.139
      |PROCESSED_WRITER_SVC_SERVICE_PORT=9000
      |PROCESSED_WRITER_SVC_SERVICE_PORT_SERVER=9000
      |PROCESSING_SVC_PORT=tcp://10.0.210.160:9000
      |PROCESSING_SVC_PORT_9000_TCP=tcp://10.0.210.160:9000
      |PROCESSING_SVC_PORT_9000_TCP_ADDR=10.0.210.160
      |PROCESSING_SVC_PORT_9000_TCP_PORT=9000
      |PROCESSING_SVC_PORT_9000_TCP_PROTO=tcp
      |PROCESSING_SVC_SERVICE_HOST=10.0.210.160
      |PROCESSING_SVC_SERVICE_PORT=9000
      |PROCESSING_SVC_SERVICE_PORT_SERVER=9000
      |PS1='\s-\v\$ '
      |PS2='> '
      |PS4='+ '
      |PWD=/opt/docker
      |RAW_LOG_WRITER_SVC_PORT=tcp://10.0.213.203:9000
      |RAW_LOG_WRITER_SVC_PORT_9000_TCP=tcp://10.0.213.203:9000
      |RAW_LOG_WRITER_SVC_PORT_9000_TCP_ADDR=10.0.213.203
      |RAW_LOG_WRITER_SVC_PORT_9000_TCP_PORT=9000
      |RAW_LOG_WRITER_SVC_PORT_9000_TCP_PROTO=tcp
      |RAW_LOG_WRITER_SVC_SERVICE_HOST=10.0.213.203
      |RAW_LOG_WRITER_SVC_SERVICE_PORT=9000
      |RAW_LOG_WRITER_SVC_SERVICE_PORT_SERVER=9000
      |RAW_WRITER_SVC_PORT=tcp://10.0.248.42:9000
      |RAW_WRITER_SVC_PORT_9000_TCP=tcp://10.0.248.42:9000
      |RAW_WRITER_SVC_PORT_9000_TCP_ADDR=10.0.248.42
      |RAW_WRITER_SVC_PORT_9000_TCP_PORT=9000
      |RAW_WRITER_SVC_PORT_9000_TCP_PROTO=tcp
      |RAW_WRITER_SVC_SERVICE_HOST=10.0.248.42
      |RAW_WRITER_SVC_SERVICE_PORT=9000
      |RAW_WRITER_SVC_SERVICE_PORT_SERVER=9000
      |REGISTRATION_SVC_PORT=tcp://10.0.178.182:3001
      |REGISTRATION_SVC_PORT_3001_TCP=tcp://10.0.178.182:3001
      |REGISTRATION_SVC_PORT_3001_TCP_ADDR=10.0.178.182
      |REGISTRATION_SVC_PORT_3001_TCP_PORT=3001
      |REGISTRATION_SVC_PORT_3001_TCP_PROTO=tcp
      |REGISTRATION_SVC_SERVICE_HOST=10.0.178.182
      |REGISTRATION_SVC_SERVICE_PORT=3001
      |REGISTRATION_SVC_SERVICE_PORT_SERVER=3001
      |SDK_REST_URL=metadata-svc:9000
      |SHELL=/sbin/nologin
      |SHELLOPTS=braceexpand:emacs:hashall:histexpand:history:interactive-comments:monitor
      |SHLVL=1
      |SINGLE_AGGREGATIONS_SVC_PORT=tcp://10.0.157.242:9000
      |SINGLE_AGGREGATIONS_SVC_PORT_9000_TCP=tcp://10.0.157.242:9000
      |SINGLE_AGGREGATIONS_SVC_PORT_9000_TCP_ADDR=10.0.157.242
      |SINGLE_AGGREGATIONS_SVC_PORT_9000_TCP_PORT=9000
      |SINGLE_AGGREGATIONS_SVC_PORT_9000_TCP_PROTO=tcp
      |SINGLE_AGGREGATIONS_SVC_SERVICE_HOST=10.0.157.242
      |SINGLE_AGGREGATIONS_SVC_SERVICE_PORT=9000
      |SINGLE_AGGREGATIONS_SVC_SERVICE_PORT_SERVER=9000
      |SOCKETS_SVC_PORT=tcp://10.0.56.130:9000
      |SOCKETS_SVC_PORT_9000_TCP=tcp://10.0.56.130:9000
      |SOCKETS_SVC_PORT_9000_TCP_ADDR=10.0.56.130
      |SOCKETS_SVC_PORT_9000_TCP_PORT=9000
      |SOCKETS_SVC_PORT_9000_TCP_PROTO=tcp
      |SOCKETS_SVC_SERVICE_HOST=10.0.56.130
      |SOCKETS_SVC_SERVICE_PORT=9000
      |SOCKETS_SVC_SERVICE_PORT_SERVER=9000
      |SOLUTIONS_SVC_PORT=tcp://10.0.44.244:9000
      |SOLUTIONS_SVC_PORT_9000_TCP=tcp://10.0.44.244:9000
      |SOLUTIONS_SVC_PORT_9000_TCP_ADDR=10.0.44.244
      |SOLUTIONS_SVC_PORT_9000_TCP_PORT=9000
      |SOLUTIONS_SVC_PORT_9000_TCP_PROTO=tcp
      |SOLUTIONS_SVC_SERVICE_HOST=10.0.44.244
      |SOLUTIONS_SVC_SERVICE_PORT=9000
      |SOLUTIONS_SVC_SERVICE_PORT_SERVER=9000
      |SWAGGER_SVC_PORT=tcp://10.0.248.125:9000
      |SWAGGER_SVC_PORT_9000_TCP=tcp://10.0.248.125:9000
      |SWAGGER_SVC_PORT_9000_TCP_ADDR=10.0.248.125
      |SWAGGER_SVC_PORT_9000_TCP_PORT=9000
      |SWAGGER_SVC_PORT_9000_TCP_PROTO=tcp
      |SWAGGER_SVC_SERVICE_HOST=10.0.248.125
      |SWAGGER_SVC_SERVICE_PORT=9000
      |SWAGGER_SVC_SERVICE_PORT_SERVER=9000
      |TERM=dumb
      |SK8S_RUN_MODE=PROD
      |UID=2
      |WP_INGRESS_SERVICE_PORT=tcp://10.0.20.206:80
      |WP_INGRESS_SERVICE_PORT_443_TCP=tcp://10.0.20.206:443
      |WP_INGRESS_SERVICE_PORT_443_TCP_ADDR=10.0.20.206
      |WP_INGRESS_SERVICE_PORT_443_TCP_PORT=443
      |WP_INGRESS_SERVICE_PORT_443_TCP_PROTO=tcp
      |WP_INGRESS_SERVICE_PORT_80_TCP=tcp://10.0.20.206:80
      |WP_INGRESS_SERVICE_PORT_80_TCP_ADDR=10.0.20.206
      |WP_INGRESS_SERVICE_PORT_80_TCP_PORT=80
      |WP_INGRESS_SERVICE_PORT_80_TCP_PROTO=tcp
      |WP_INGRESS_SERVICE_SERVICE_HOST=10.0.20.206
      |WP_INGRESS_SERVICE_SERVICE_PORT=80
      |WP_INGRESS_SERVICE_SERVICE_PORT_HTTP=80
      |WP_INGRESS_SERVICE_SERVICE_PORT_HTTPS=443""".stripMargin

  val envMap: Map[String, String] = {
    val lines = rawData.split("\n").toSeq
    lines.map { line =>
      val parts = line.split("=")
      parts(0) -> parts(1)
    }.toMap
  }

}
